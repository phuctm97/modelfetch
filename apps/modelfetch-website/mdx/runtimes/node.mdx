---
title: Node.js
description: Use ModelFetch with Node.js
---

The `@modelfetch/node` package provides ModelFetch support for Node.js applications.

## Installation

```npm
npm install @modelfetch/node
```

## Basic Usage

```typescript title="server.ts"
import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { z } from "zod";

const server = new McpServer({
  title: "My Node.js MCP Server",
  name: "my-node-server",
  version: "1.0.0",
});

// Define your tools
server.registerTool(
  "roll_dice",
  {
    title: "Roll Dice",
    description: "Rolls an N-sided dice",
    inputSchema: { sides: z.number().int().min(2) },
  },
  ({ sides }) => ({
    content: [
      {
        type: "text",
        text: `ðŸŽ² You rolled a ${1 + Math.floor(Math.random() * sides)}!`,
      },
    ],
  }),
);

export default server;
```

```typescript title="index.ts"
import handle, { getEndpoint } from "@modelfetch/node";
import server from "./server";

// Start the server
handle(server, (address) => {
  console.log(`Server running at: ${getEndpoint(address)}`);
});
```

## API Reference

### `handle(server, callback?)`

Starts the MCP server on Node.js.

- **server**: The MCP server instance from `@modelcontextprotocol/sdk`
- **callback**: Optional callback that receives the server address

```typescript
import handle from "@modelfetch/node";
import server from "./server";

handle(server, (address) => {
  console.log(`Server started at: ${address}`);
});
```

### `getEndpoint(address)`

Gets the MCP server endpoint for connecting clients.

- **address**: Required. A Node.js `AddressInfo` object from the server callback

```typescript
import { getEndpoint } from "@modelfetch/node";
import handle from "@modelfetch/node";
import server from "./server";

handle(server, (address) => {
  const endpoint = getEndpoint(address);
  console.log(`Connect to: ${endpoint}`);
});
```

## Next Steps

- Learn about [Bun runtime](/runtimes/bun)
- Learn about [Deno runtime](/runtimes/deno)
